[gd_scene load_steps=23 format=3 uid="uid://c3gbexxyter6w"]

[ext_resource type="PackedScene" uid="uid://brmalx1j4qn8u" path="res://addons/fps-hands/fps-ak/reasources/fps_ak_animated.glb" id="1_d63oo"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vpbhs"]
animation = &"fire"
use_custom_timeline = true
timeline_length = 0.1
stretch_time_scale = true
start_offset = 0.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_joxmh"]
animation = &"hide"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_e3u8r"]
animation = &"idle"
use_custom_timeline = true
timeline_length = 5.0
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dlm4h"]
animation = &"melee"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fypuq"]
animation = &"reload"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n7dm3"]
animation = &"reload_full"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yib2r"]
animation = &"take"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_huuvx"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6rtwo"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k7km3"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ngokh"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_itmc3"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wqsm7"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mdrg8"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b3mfr"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aeqy0"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_eooys"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rhhcn"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k44j8"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_d6lpy"]
states/End/position = Vector2(619, 100)
states/Start/position = Vector2(153, 100)
states/fire/node = SubResource("AnimationNodeAnimation_vpbhs")
states/fire/position = Vector2(320, 0)
states/hide/node = SubResource("AnimationNodeAnimation_joxmh")
states/hide/position = Vector2(515, 100)
states/idle/node = SubResource("AnimationNodeAnimation_e3u8r")
states/idle/position = Vector2(381, 100)
states/melee/node = SubResource("AnimationNodeAnimation_dlm4h")
states/melee/position = Vector2(463, 0)
states/reload/node = SubResource("AnimationNodeAnimation_fypuq")
states/reload/position = Vector2(320, 221)
states/reload_full/node = SubResource("AnimationNodeAnimation_n7dm3")
states/reload_full/position = Vector2(463, 221)
states/take/node = SubResource("AnimationNodeAnimation_yib2r")
states/take/position = Vector2(258, 100)
transitions = ["Start", "take", SubResource("AnimationNodeStateMachineTransition_huuvx"), "take", "idle", SubResource("AnimationNodeStateMachineTransition_6rtwo"), "idle", "fire", SubResource("AnimationNodeStateMachineTransition_k7km3"), "idle", "melee", SubResource("AnimationNodeStateMachineTransition_ngokh"), "idle", "reload", SubResource("AnimationNodeStateMachineTransition_itmc3"), "idle", "reload_full", SubResource("AnimationNodeStateMachineTransition_wqsm7"), "idle", "hide", SubResource("AnimationNodeStateMachineTransition_mdrg8"), "fire", "idle", SubResource("AnimationNodeStateMachineTransition_b3mfr"), "melee", "idle", SubResource("AnimationNodeStateMachineTransition_aeqy0"), "reload", "idle", SubResource("AnimationNodeStateMachineTransition_eooys"), "reload_full", "idle", SubResource("AnimationNodeStateMachineTransition_rhhcn"), "hide", "End", SubResource("AnimationNodeStateMachineTransition_k44j8")]
graph_offset = Vector2(-262.841, -22.6944)

[sub_resource type="AudioStreamPolyphonic" id="AudioStreamPolyphonic_y0k3f"]

[node name="fps-ak" instance=ExtResource("1_d63oo")]
transform = Transform3D(0.015, 0, 0, 0, 0.015, 0, 0, 0, 0.015, -0.1, -0.4, 0.3)
metadata/ads_pos = Vector3(0, -0.282, 0)
metadata/max_magazine = 30
metadata/auto = true
metadata/delta = 1.2
metadata/damage = 45.0
metadata/range = 100.0
metadata/recoil_x = 0.05
metadata/recoil_y = 0.02
metadata/ammo_type = "rifle"

[node name="Sketchfab_model" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)

[node name="Skeleton3D" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4" index="0"]
bones/1/position = Vector3(19.3362, -1.8186, -23.4365)
bones/1/rotation = Quaternion(-0.605247, 0.785035, 0.126277, 0.0380747)
bones/2/rotation = Quaternion(0.495382, -0.204882, 0.707136, 0.461063)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(-0.108879, 0.128379, 1.04774e-09, 0.98573)
bones/4/rotation = Quaternion(0.205928, 0.051839, -0.357473, 0.909461)
bones/5/rotation = Quaternion(-0.135359, 0.035092, -0.0952511, 0.985583)
bones/5/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(-0.0636339, 0.0791257, -0.0490012, 0.993624)
bones/8/rotation = Quaternion(-0.186375, -0.0758902, 0.433217, 0.878537)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(-0.0505229, -0.377141, -0.00325702, 0.924771)
bones/10/rotation = Quaternion(-0.031645, -0.185663, -0.00312348, 0.982099)
bones/10/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.00327594, -0.425384, 0.444866, 0.788119)
bones/12/scale = Vector3(1, 1, 1)
bones/13/rotation = Quaternion(0.022279, -0.19479, 0.00442567, 0.980582)
bones/14/rotation = Quaternion(-0.0117662, -0.25643, -0.000215109, 0.966491)
bones/14/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(-0.461576, 0.882797, -0.0521154, 0.0700077)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(0.0856156, 0.887348, 0.134821, 0.432558)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(0.052336, -0.363964, 0.00634946, 0.92992)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.00440595, 0.00684335, 0.0655388, 0.997817)
bones/19/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(0.211049, 0.825741, 0.142806, 0.503206)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(-0.0214718, -0.248663, -0.00173355, 0.968351)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(0.0227129, -0.0389607, 0.0124626, 0.998905)
bones/25/position = Vector3(7.60425, 14.5257, -50.4455)
bones/25/rotation = Quaternion(0.674793, 0.49706, 0.539705, 0.0793967)
bones/25/scale = Vector3(1, 1, 1)
bones/26/rotation = Quaternion(0.697999, -0.171224, -0.244936, 0.650758)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(-0.0977025, -0.130304, 1.86265e-09, 0.986649)
bones/28/rotation = Quaternion(0.357367, -0.132397, 0.255232, 0.888604)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(-0.233421, 0.127303, 0.0918622, 0.95962)
bones/30/rotation = Quaternion(-0.046162, 0.245863, 0.177444, 0.951806)
bones/30/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(-0.0331155, -0.00858655, -0.409042, 0.911874)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.00645664, 0.372174, -0.0485977, 0.926867)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.0568674, 0.38171, 0.037157, 0.921783)
bones/36/rotation = Quaternion(0.140554, 0.560575, -0.447974, 0.682144)
bones/37/rotation = Quaternion(-0.0180747, 0.395026, -0.0121099, 0.918412)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(-0.0116314, 0.41809, -0.00180258, 0.908329)
bones/38/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(0.507435, 0.850005, 0.0452227, -0.133998)
bones/40/scale = Vector3(1, 1, 1)
bones/41/rotation = Quaternion(-0.0171833, 0.873009, 0.124793, -0.471155)
bones/42/rotation = Quaternion(0.025787, 0.561514, -0.00726876, 0.827033)
bones/42/scale = Vector3(1, 1, 1)
bones/43/rotation = Quaternion(0.00317479, 0.180118, -0.000161057, 0.98364)
bones/45/rotation = Quaternion(0.00853823, -0.836094, -0.152924, 0.526771)
bones/46/rotation = Quaternion(0.0214907, 0.43918, -0.0312885, 0.897597)
bones/47/rotation = Quaternion(0.0249659, 0.267041, -0.00692065, 0.963337)

[node name="Object_7" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/Skeleton3D" index="0"]
cast_shadow = 0

[node name="ak" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4" index="2"]
transform = Transform3D(0.999348, -0.0360588, 0, 0.0360588, 0.999347, 0, 0, 0, 1, -0.0124474, 5.14309, -0.581233)

[node name="base_ak74_0" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/base" index="0"]
cast_shadow = 0

[node name="MuzzlePoint" type="Node3D" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/base" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.513291, 8.64982, 72.6111)

[node name="bolt_ak74_0" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/bolt" index="0"]
cast_shadow = 0

[node name="release" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak" index="2"]
transform = Transform3D(1, 1.25767e-17, -3.0544e-34, -1.25767e-17, 1, -2.42861e-17, 2.29589e-41, 2.42861e-17, 1, 0, 1.77319, 11.6362)

[node name="release_ak74_0" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/release" index="0"]
cast_shadow = 0

[node name="trigger_ak74_0" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/trigger" index="0"]
cast_shadow = 0

[node name="mag" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak" index="4"]
transform = Transform3D(1, -2.86229e-17, -1.38778e-17, 2.86229e-17, 1, -3.97223e-34, 1.38778e-17, 0, 1, -8.88178e-16, 0.981684, 16.6116)

[node name="mag_ak74_0" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/mag" index="0"]
cast_shadow = 0

[node name="bullet_ak74_0" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4/ak/mag/bullet" index="0"]
cast_shadow = 0

[node name="L_arm_Pole" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4" index="3"]
transform = Transform3D(-0.213663, -0.937537, 0.274539, -0.970267, 0.236366, 0.0520566, -0.113697, -0.255254, -0.960165, 24.2123, -11.8786, 7.4125)

[node name="R_arm_Pole" parent="Sketchfab_model/a5167d948e6a4ec8bd09a04312151f71_fbx/Object_2/RootNode/Object_4" index="4"]
transform = Transform3D(-0.31116, 0.929846, -0.196384, 0.944911, 0.32479, 0.0406678, 0.101598, -0.172911, -0.979683, -48.269, -15.2028, -22.3671)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_d6lpy")
anim_player = NodePath("../AnimationPlayer")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="." index="3"]
stream = SubResource("AudioStreamPolyphonic_y0k3f")

[connection signal="animation_finished" from="AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="animation_started" from="AnimationTree" to="." method="_on_animation_tree_animation_started"]
